import{g as C,j as e,G as F,r as l,d as k,l as E,e as S}from"./index-DcqBWVIS.js";import{t as z}from"./terno-ai-BXBqkcMA.js";const P=()=>{const r=C();return e.jsx("input",{type:"hidden",name:"csrfmiddlewaretoken",value:r})};function _(r){return F({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}const G=()=>{const[r,x]=l.useState(""),[n,h]=l.useState(""),[o,i]=l.useState({fetching:!1,content:null}),[g,a]=l.useState(""),[c,p]=l.useState(!1),[b,v]=l.useState("Continue"),d=k(),j=()=>{a(""),i({...o,fetching:!0}),E({email:r,password:n}).then(t=>{var m,u,f;if(i(s=>({...s,content:t})),"errors"in t){const s=t.errors;s&&s.length>0&&a(s.map(y=>y.message).join(", "));return}((u=(m=t.data)==null?void 0:m.flows)==null?void 0:u.find(s=>s.id==="verify_email"&&s.is_pending))?d("/accounts/verify-email"):(f=t.meta)!=null&&f.is_authenticated&&d("/")}).catch(t=>{a(t)}).then(()=>{i(t=>({...t,fetching:!1}))})},w=async()=>{a(""),i({...o,fetching:!0});try{if((await S({email:r})).status=="error"){a("Please contact your organization administrator for access.");return}p(!0),v("Login")}catch{a("An error occurred. Please try again.")}finally{i(t=>({...t,fetching:!1}))}},N=()=>{c?j():w()};return e.jsx("div",{className:"w-screen h-screen bg-stone-100",children:e.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center bg-muted p-6 md:p-10 overflow-scroll",children:e.jsx("div",{className:"w-full max-w-sm md:max-w-3xl",children:e.jsx("div",{className:"flex flex-col gap-6",children:e.jsx("div",{className:"rounded-xl border bg-white text-card-foreground shadow overflow-hidden",children:e.jsxs("div",{className:"grid p-0 md:grid-cols-2",children:[e.jsx("div",{className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back"}),e.jsx("p",{className:"text-balance text-muted-foreground",children:"Login to your Terno App"})]}),e.jsx("div",{className:"flex flex-row",children:e.jsxs("form",{method:"post",action:"/_allauth/browser/v1/auth/provider/redirect?process=login&next=/",className:"w-full",children:[e.jsx(P,{}),e.jsx("input",{name:"provider",value:"google",type:"hidden"}),e.jsx("input",{name:"process",value:"login",type:"hidden"}),e.jsx("input",{name:"callback_url",value:"/accounts/provider/callback",type:"hidden"}),e.jsxs("button",{className:"w-full flex flex-row justify-center items-center gap-2 px-4 py-2 border rounded-md shadow hover:bg-zinc-100 transition-colors",children:[e.jsx(_,{}),e.jsx("span",{className:"",children:"Login with Google"})]})]})}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"bg-white relative z-10 bg-background px-2 text-muted-foreground",children:"Or continue with"})}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{value:r,onChange:t=>x(t.target.value),type:"email",required:!0,placeholder:"terno@example.com",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),c&&e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("a",{href:"/accounts/password/reset",className:"ml-auto text-sm underline-offset-2 hover:underline",children:"Forgot your password?"})]}),e.jsx("input",{value:n,onChange:t=>h(t.target.value),type:"password",required:!0,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsx("div",{className:"text-sm text-red-500",children:g}),e.jsx("button",{onClick:N,className:"w-full px-4 py-2 border rounded-md bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:b})]})]})}),e.jsx("div",{className:"hidden bg-zinc-800 md:flex flex-col justify-center items-center",children:e.jsx("img",{src:z,alt:"Image"})})]})})})})})})};export{G as default};
