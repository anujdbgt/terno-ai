import{r as a,d as E,j as e,l as S,e as F}from"./index-C2BRNr3X.js";import{t as P}from"./terno-ai-BXBqkcMA.js";const T=()=>{const[i,x]=a.useState(""),[o,h]=a.useState(""),[n,l]=a.useState({fetching:!1,content:null}),[g,r]=a.useState(""),[d,p]=a.useState(!1),[b,v]=a.useState("Continue"),c=E(),w=()=>{r(""),l({...n,fetching:!0}),S({email:i,password:o}).then(s=>{var m,u,f;if(l(t=>({...t,content:s})),"errors"in s){const t=s.errors;t&&t.length>0&&r(t.map(y=>y.message).join(", "));return}((u=(m=s.data)==null?void 0:m.flows)==null?void 0:u.find(t=>t.id==="verify_email"&&t.is_pending))?c("/accounts/verify-email"):(f=s.meta)!=null&&f.is_authenticated&&c("/")}).catch(s=>{r(s)}).then(()=>{l(s=>({...s,fetching:!1}))})},j=async()=>{r(""),l({...n,fetching:!0});try{if((await F({email:i})).status=="error"){r("Please contact your organization administrator for access.");return}p(!0),v("Login")}catch{r("An error occurred. Please try again.")}finally{l(s=>({...s,fetching:!1}))}},N=()=>{d?w():j()};return e.jsx("div",{className:"w-screen h-screen bg-stone-100",children:e.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center bg-muted p-6 md:p-10 overflow-scroll",children:e.jsx("div",{className:"w-full max-w-sm md:max-w-3xl",children:e.jsx("div",{className:"flex flex-col gap-6",children:e.jsx("div",{className:"rounded-xl border bg-white text-card-foreground shadow overflow-hidden",children:e.jsxs("div",{className:"grid p-0 md:grid-cols-2",children:[e.jsx("div",{className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back"}),e.jsx("p",{className:"text-balance text-muted-foreground",children:"Login to your Terno App"})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{value:i,onChange:s=>x(s.target.value),type:"email",required:!0,placeholder:"terno@example.com",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),d&&e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("a",{href:"/accounts/password/reset",className:"ml-auto text-sm underline-offset-2 hover:underline",children:"Forgot your password?"})]}),e.jsx("input",{value:o,onChange:s=>h(s.target.value),type:"password",required:!0,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsx("div",{className:"text-sm text-red-500",children:g}),e.jsx("button",{onClick:N,className:"w-full px-4 py-2 border rounded-md bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:b})]})]})}),e.jsx("div",{className:"hidden bg-zinc-800 md:flex flex-col justify-center items-center",children:e.jsx("img",{src:P,alt:"Image"})})]})})})})})})};export{T as default};
